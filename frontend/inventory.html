<html lang="en">
<head>
	<title>Inventory For Group 108</title>
	<meta charset="UTF-8" />
	<link rel="stylesheet" href="styles.css">
	<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
	<script src="api.js"></script>
	<script>
		(async () => {
			const products = await api.getProducts();
			for (const product of products) {
				document.getElementById('products').insertAdjacentHTML(
					'beforeend',
					`<tr>
						<td>
							<input
								type="radio"
								name="selected"
								value="${product.id}"
								id="${product.id}"
							>
						</td>
						<td>${product.name}</td>
						<td>${product.price}</td>
						<td>${product.stock}</td>
					</tr>`
				);
			}
			removePlaceholders();
		})();
	</script>
</head>
<body>
	<!-- Top of page header-->
	<div class="navbar">
		<a href="index.html">Storefront</a>
		<a href="inventory.html">Inventory</a>

		<div class="navbar-right">
			<a href="#">Log In</a>
			<a href="#"><img src="img/shopping-cart-light.png"></a>
		</div>
	</div>

	<noscript>JavaScript must be enabled.</noscript>
	<form id="Inventory" method="post" action="details.php">
		<br><label>Select a product for more information.</label><br>
		<table id="products">
			<tr>
				<th></th>
				<th>Part Name</th>
				<th>Price</th>
				<th>Number in stock</th>
			</tr>
			<div class="loading-placeholder">Loading...</div>
		</table><br>
		<input type="submit" value="Confirm" form="Inventory">
	</form>
</body>
</html>
