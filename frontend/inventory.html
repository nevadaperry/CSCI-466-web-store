<html lang="en">
<head>
	<title>Inventory For Group 108</title>
	<meta charset="UTF-8" />
	<link rel="stylesheet" href="styles.css">
	<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
	<script src="api.js"></script>
	<script>
		(async () => {
			const products = await api.getProducts();
			for (const product of products) {
				document.getElementById('products').insertAdjacentHTML(`
					<tr>
						<td>
							<input
								type="radio"
								name="selected"
								value="${product.id}"
								id="${product.id}"
							>
						</td>
						<td>${product.name}</td>
						<td>${product.price}</td>
						<td>${product.stock}</td>
					</tr>';
				`);
			}
			const loadingPlaceholders = document.getElementsByClassName(
				'loading-placeholder'
			);
			for (const placeholder of loadingPlaceholders) {
				placeholder.classList.add('done-loading');
			}
		})();
	</script>
</head>
<body>
	<noscript>JavaScript must be enabled.</noscript>
	<form id="Inventory" method="post" action="details.php">
		<br><label>Select a product for more information.</label><br>
		<table id="products" border="1"></table>
			<tr><th> Part Name </th><th> Price </th><th> Number in stock </th></tr>
			<div class="loading-placeholder">Loading...</div>
		</table><br>
		<input type="submit" value="Confirm" form="Inventory">
	</form>
</body>
</html>
